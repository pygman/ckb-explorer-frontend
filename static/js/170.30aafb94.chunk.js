"use strict";(self.webpackChunkckb_explorer_fronted=self.webpackChunkckb_explorer_fronted||[]).push([[170],{49818:function(n,t,i){i.d(t,{S7:function(){return B},UU:function(){return E},ud:function(){return R},Br:function(){return L}});var e,r,a,o,c,s=i(1413),d=i(72791),l=(i(22107),i(99146),i(39536),i(21216),i(18690),i(6283),i(99516),i(60260),i(17332),i(60967),i(33776),i(23598)),u=i.n(l),h=i(29044),p=i(30168),f=i(15751),x=f.ZP.div(e||(e=(0,p.Z)(["\n  margin-bottom: 30px;\n  background: white;\n"]))),A=f.ZP.div(r||(r=(0,p.Z)(["\n  background: white;\n  margin-top: 30px;\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media (max-width: 750px) {\n    margin-top: 20px;\n  }\n\n  .chart__detail__title__panel {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1;\n\n    > span {\n      color: #000000;\n      text-align: center;\n      font-size: 24px;\n      margin-left: 100px;\n\n      @media (max-width: 750px) {\n        font-size: 16px;\n        margin-left: 0px;\n      }\n    }\n\n    > img {\n      width: 18px;\n      height: 18px;\n      margin-left: 10px;\n    }\n  }\n\n  .chart__detail__title__download {\n    width: 100px;\n    padding: 5px 0;\n    border-radius: 2px;\n    border: solid 1px #666666;\n    font-size: 12px;\n    text-align: center;\n    color: #666666;\n    margin-right: 3.6%;\n\n    @media (max-width: 750px) {\n      display: none;\n    }\n  }\n"]))),m=f.ZP.div(a||(a=(0,p.Z)(["\n  display: flex;\n  width: 100%;\n  height: ",";\n  align-items: center;\n  justify-content: center;\n"])),(function(n){return n.isThumbnail?"200px":"70vh"})),g=f.ZP.div(o||(o=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: ",";\n  height: ",";\n  border-radius: 6px;\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.12);\n  border: solid 0.5px ",";\n  background-color: #ffffff;\n\n  > img {\n    width: ",";\n    height: ",";\n  }\n\n  > span {\n    font-size: 12px;\n    font-weight: 500;\n    margin-top: 5px;\n    color: ",";\n  }\n"])),(function(n){return n.isThumbnail?"92px":"184px"}),(function(n){return n.isThumbnail?"56px":"112px"}),(function(n){return n.theme.primary}),(function(n){return n.isThumbnail?"18.5px":"37px"}),(function(n){return n.isThumbnail?"14px":"28px"}),(function(n){return n.theme.primary})),v=f.ZP.div(c||(c=(0,p.Z)(["\n  font-size: 12px;\n  with: 100%;\n  color: rgba(0, 0, 0, 0.6);\n  padding: 6px 3%;\n  text-align: left;\n"]))),b=i(34508),w=i(47382),j=i(24861),y=i(86279),k=i(17452),U=i(83366),C=i(73860),T=i(38652),F=i(41172),Z=i(80184),_=function(n){return n.isThumbnail?(0,Z.jsx)(y.Z,{}):(0,Z.jsx)(b.Z,{show:!0})},P=function(n){var t=n.show,i=n.isThumbnail,e=void 0!==i&&i;return(0,Z.jsx)(m,{isThumbnail:e,children:t?(0,Z.jsx)(_,{isThumbnail:e}):(0,Z.jsxs)(g,{isThumbnail:e,children:[(0,Z.jsx)("img",{alt:"no data",src:(0,j.mC)()?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAqBAMAAAAdXSXHAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTD/JjT3HjD/JjkfSmDzHijzHiz3Hiz3HizzHizzHizzGioxo4B0AAAALdFJOUwA2VR8L1vFsiqq+P/y9HgAAAbJJREFUOMt9U79Lw0AUvrYRa6dWCoJdrCKKWSqICl2SoYuTiLhkEkWQW7qIQxfBQSFLRbcuVdw6pdA06ffP+XKXXC4x5IPSd/dd3nvf+8EYYX3KSlBz5qU0960y3vVfyugB7phx8P7WLKbXEbIqwP2PYn6GJv0I30Ws0cGUdSIaO0V8H3NWs46fgMAqEo4FXVvWNjAuyhyQ0lwsC3TjhqRFqHK0t573MmwFizME0h6Bk6srnW7AYw5kTTZE/hm+jy8WSRMauaD9YUqP6MsG4q6Zj137kCexIjgL0iakRcnRn3Gu14fTU8OF5s8Y4VoVRfg9xb2WTh1hW+mai64Fehcc+J8J7ckLvd0mpT/UaLrQy71G9FKLnUqT3qP2CXcXMiqVNt+JSxk0FMeJLk3U15NVfhXHrLQoaCAqfptoDbLeeShCNJXWXnZAV1HIRao1O0lOmLyJtXr/Y0/UguWkycxNqAXLSnNFrAFW3ZaESdIqsd06Ak6ItqEhIHkKy3iWUvg940HZcmDsmcaP09fJutY2d2PsU7LV2E53Qa2dne9aDpPiDU6GIN+1HOr4LaONn+z5D/tN1bZlg6TXAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAqBAMAAAAdXSXHAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTIij7Iei64ml74Wi65Su+Iai64ai64ai64ai7Iai64Wh68UdleAAAAALdFJOUwA3Vh7XCvK7iG6l9tKrJgAAAbNJREFUOMt9k79LAmEYx1+1l7RJA4lwsQyibtECF5cIarnlCiFoi9ChWyxocomCCFyEXMLFaHRSjvO87z/X++vu3vOO+4J450ee5/k+PwhhKg1IhgrmMhPbjpXFR3jLwl08Enry9V5NxyX4JA/A/U3nQ5TZh+k5jdIaBqTGsVtP420sScFqTcCypBkHt0bJHjBLqxzK2ifWydQjXDNrXHkb1f2fRgzn4JzBk89T9FmoSx1vY0FNZo1rh9cPW+cdYUtOjfYFd8cRnrplFkFNzXj6Pj+1g1xcpsO8QU0tz7/ugag/tieq1+KxCq/Cpoi4bfQ0XIRfDX0t1NS0Vphw/3RMTbepcYOVP9Yw+0FfyC2G10FuSzRHX0jamtiyU3fSJGvt5gZeyCpkUfOYNdFr2YIPtRO9+BaIqB08BAvpxaObvkhRDr024wu64imdqJPxW7N9S/1Hq0W7LZ5s7lrR1iQrN8IDo3FrI5Gri9VBRcpgY8yp58oxxBBuoMkjRTt8WauCI7lNGmJ1ULmhxmdilIIG51jYPVQ6YsXequdG8poSU9vQHPUMSjentqEiXrMwfYm//wNhZtQ+LjTiaQAAAABJRU5ErkJggg=="}),(0,Z.jsx)("span",{children:k.ZP.t("statistic.no_data")})]})})},B=function(n){var t=n.option,i=n.isThumbnail,e=n.clickEvent,r=n.notMerge,a=void 0!==r&&r,o=n.lazyUpdate,c=void 0!==o&&o,l=n.style,h=n.className,p=void 0===h?"":h,f=(0,d.useRef)(null),x=(0,d.useRef)(null),A=(0,C.D9)(t),m=(0,C.D9)(e);return(0,d.useEffect)((function(){var n=null;if(f.current){if(!x.current){var i=u().getInstanceByDom(f.current);i&&i.dispose(),x.current=u().init(f.current)}n=x.current;try{(0,F.xb)(A,t,["formatter"])||n.setOption(t,{notMerge:a,lazyUpdate:c}),e&&"function"===typeof e&&e!==m&&n.on("click",e)}catch(r){console.error("error",r),n&&n.dispose()}}}),[e,c,a,t,m,A]),(0,C.w_)((function(){var n;x.current&&(null===(n=x.current)||void 0===n||n.resize())})),(0,Z.jsx)("div",{style:(0,s.Z)({height:i?"200px":"70vh"},l),className:p,ref:f})},X=function(n){var t=n.title,i=n.children,e=n.description,r=function(n){if(n&&0!==n.length){var t="";return n.forEach((function(n){t+=n.join(","),t+="\n"})),t}}(n.data),a=(t.indexOf(" (")>0?t.substring(0,t.indexOf(" (")):t).replace(/&/g,"").toLowerCase().replace(/\s+/g,"-");return(0,Z.jsxs)(U.Z,{children:[(0,Z.jsxs)(A,{className:"container",children:[(0,Z.jsxs)("div",{className:"chart__detail__title__panel",children:[(0,Z.jsx)("span",{children:t}),e&&(0,Z.jsx)(h.Z,{placement:"bottom",title:e,children:(0,Z.jsx)("img",{src:w,alt:"chart help"})})]}),r&&(0,Z.jsx)("a",{className:"chart__detail__title__download",rel:"noopener noreferrer",href:"data:text/csv;charset=utf-8,".concat(encodeURI(r)),target:"_blank",download:"".concat(a,".csv"),children:k.ZP.t("statistic.download_data")})]}),(0,Z.jsx)(x,{className:"container",children:i})]})};function E(n){var t=n.title,i=n.description,e=n.note,r=n.isThumbnail,a=void 0!==r&&r,o=n.chartProps,c=n.fetchData,l=n.onFetched,u=n.getEChartOption,h=n.toCSV,p=n.cacheKey,f=n.cacheMode,x=void 0===f?"forever":f,A=(0,C.dD)(),m=(0,T.mr)().app,g=(0,C.fg)(c,p,x),b=(0,d.useMemo)((function(){var n;return null!==(n=g.data)&&void 0!==n?n:[]}),[g.data]);(0,d.useEffect)((function(){l&&g.data&&l(g.data)}),[l,g.data]);var w=(0,d.useMemo)((function(){return u(b,m.chartColor,A,a)}),[m.chartColor,b,u,A,a]),j=g.isLoading?(0,Z.jsx)(P,{show:!0,isThumbnail:a}):(0,Z.jsx)(B,(0,s.Z)({option:w,isThumbnail:a},o));return a?j:(0,Z.jsxs)(X,{title:t,description:i,data:h(b),children:[j,null!=e&&(0,Z.jsx)(v,{children:e})]})}var R=function(n){return'<span style="display:inline-block;margin-right:8px;margin-left:5px;margin-bottom:2px;border-radius:10px;width:6px;height:6px;background-color:'.concat(n,'"></span>')},L=function(n,t){return'<span style="width:'.concat(t,'px;display:inline-block;">').concat(n,":</span>")}},60170:function(n,t,i){i.r(t),i.d(t,{MinerVersionDistributionChart:function(){return A}});var e=i(29439),r=i(74165),a=i(15861),o=i(15897),c=i(17452),s=i(49818),d=i(80286),l=i(36583),u=i(80184),h=["#069ECD","#69C7D4","#AACFE9","#29B97A","#66CC99","#228159","#525860","#74808E","#9DA6B0","#FBB04C"],p=function(n,t,i){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={left:"4%",right:"10%",top:"8%",bottom:"6%",containLabel:!0},a={left:"3%",right:"3%",top:"5%",bottom:"5%",containLabel:!0},o=e?{show:!1}:{formatter:function(n){var i=Array.isArray(n)?n[0]:n,e=function(n){return(0,s.Br)(n,"en"===(0,c.XX)()?80:60)},r="<div>".concat((0,s.ud)("#333333")).concat(e(c.ZP.t("statistic.version"))," ").concat(i.data.title,"</div>");return r+="<div>".concat((0,s.ud)(t.colors[0])).concat(e(c.ZP.t("statistic.percent"))," ").concat(i.data.value,"%</div>")}};return{color:[t.colors[0]].concat(h),tooltip:o,grid:e?r:a,legend:{show:!e,right:40,bottom:40,orient:"vertical",icon:"circle"},series:[{name:c.ZP.t("statistic.miner_version_distribution"),type:"pie",radius:i||e?"50%":"75%",center:["50%","50%"],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:n.map((function(n){var t="others"===n.version?c.ZP.t("statistic.others"):n.version;return{name:"".concat(t," (").concat(n.percent,"%)"),title:t,value:n.percent}}))}]}},f=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var t,i,e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.v$)();case 2:return t=n.sent,i=t.data,e=i.reduce((function(n,t){return n+t.blocksCount}),0),n.abrupt("return",i.map((function(n){return{version:n.version,percent:+(100*n.blocksCount/e).toFixed(2)}})));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(n){var t;return null!==(t=null===n||void 0===n?void 0:n.map((function(n){return[n.version,"".concat(n.percent,"%")]})))&&void 0!==t?t:[]},A=function(n){var t=n.isThumbnail,i=void 0!==t&&t,r=(0,o.$)(),a=(0,e.Z)(r,1)[0];return(0,u.jsx)(s.UU,{title:a("statistic.miner_version_distribution"),isThumbnail:i,fetchData:f,getEChartOption:p,toCSV:x,cacheKey:d.$.MinerVersionDistribution,cacheMode:"date"})};t.default=A}}]);
//# sourceMappingURL=170.30aafb94.chunk.js.map